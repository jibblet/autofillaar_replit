<!DOCTYPE html>
<html>
<head>
  <title>Enhanced Autofill - Settings</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: 0 auto;
      color: #333;
    }

.truncate-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.domain-badge {
  display: inline-block;
  background-color: #4285f4;
  color: white;
  padding: 2px 6px;
  border-radius: 10px;
  font-size: 12px;
  margin: 2px;
}

.not-used {
  color: #999;
  font-style: italic;
}

.domain-usage-list {
  max-height: 150px;
  overflow-y: auto;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  padding: 5px;
}

.domain-usage-item {
  padding: 5px;
  border-bottom: 1px solid #f0f0f0;
}

.domain-usage-item:last-child {
  border-bottom: none;
}

.checkbox-filter {
  margin-left: 15px;
  display: inline-block;
}

.warning {
  color: #ea4335;
  font-weight: bold;
}

.survey-stats-container {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
}

.stat-card {
  background: #f9f9f9;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  flex: 1;
}

.stat-number {
  font-size: 32px;
  font-weight: bold;
  color: #4285f4;
  margin-bottom: 5px;
}

.stat-label {
  font-size: 14px;
  color: #5f6368;
}

.recent-surveys-list {
  max-height: 400px;
  overflow-y: auto;
  border: 1px solid #e0e0e0;
  border-radius: 5px;
  margin-bottom: 20px;
}

.survey-item {
  padding: 15px;
  border-bottom: 1px solid #f0f0f0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.survey-info {
  flex: 1;
}

.survey-title {
  font-weight: bold;
  margin-bottom: 5px;
}

.survey-url {
  font-size: 12px;
  color: #5f6368;
  margin-bottom: 3px;
  word-break: break-all;
}

.survey-meta {
  font-size: 12px;
  color: #9aa0a6;
}

.survey-actions {
  margin-left: 15px;
}

.duplicate-count {
  background: #ea4335;
  color: white;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 11px;
  margin-left: 10px;
}

.remove-survey-btn {
  padding: 5px 10px;
  font-size: 12px;
  background: #ea4335;
}

.remove-survey-btn:hover {
  background: #d33426;
}

    h1 {
      color: #4285f4;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #e0e0e0;
    }

    h2 {
      color: #4285f4;
      font-size: 18px;
      margin-top: 30px;
      margin-bottom: 15px;
    }

    .tab-container {
      margin-bottom: 30px;
    }

    .tabs {
      display: flex;
      border-bottom: 1px solid #e0e0e0;
      margin-bottom: 20px;
    }

    .tab {
      padding: 10px 20px;
      cursor: pointer;
      font-size: 16px;
    }

    .tab.active {
      border-bottom: 3px solid #4285f4;
      color: #4285f4;
      font-weight: bold;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th, td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #e0e0e0;
    }

    th {
      background-color: #f1f1f1;
      font-weight: bold;
    }

    .sortable-header {
      cursor: pointer;
      user-select: none;
      position: relative;
      transition: background-color 0.2s;
    }

    .sortable-header:hover {
      background-color: #e8e8e8;
    }

    .sort-icon {
      color: #9aa0a6;
      font-size: 12px;
      margin-left: 5px;
      transition: color 0.2s;
    }

    .sortable-header.sort-asc .sort-icon {
      color: #4285f4;
    }

    .sortable-header.sort-asc .sort-icon::before {
      content: 'â†‘';
    }

    .sortable-header.sort-desc .sort-icon {
      color: #4285f4;
    }

    .sortable-header.sort-desc .sort-icon::before {
      content: 'â†“';
    }

    .sortable-header.sort-asc .sort-icon,
    .sortable-header.sort-desc .sort-icon {
      font-weight: bold;
    }

    tr:hover {
      background-color: #f9f9f9;
    }

    .checkbox {
      width: 18px;
      height: 18px;
    }

    .domain-actions {
      display: flex;
      gap: 10px;
    }

    button {
      background-color: #4285f4;
      color: white;
      border: none;
      padding: 8px 15px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      cursor: pointer;
      border-radius: 4px;
    }

    button:hover {
      background-color: #357ae8;
    }

    .btn-secondary {
      background-color: #5f6368;
    }

    .btn-secondary:hover {
      background-color: #4a4d51;
    }

    .btn-success {
      background-color: #34a853;
    }

    .btn-success:hover {
      background-color: #2d9249;
    }

    .btn-danger {
      background-color: #ea4335;
    }

    .btn-danger:hover {
      background-color: #d33426;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    input[type="text"], input[type="number"], select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      font-size: 14px;
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 5px;
      color: white;
      font-size: 16px;
      z-index: 100;
      display: none;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .notification.success {
      background-color: #34a853;
    }

    .notification.error {
      background-color: #ea4335;
    }

    .notification.warning {
      background-color: #fbbc05;
      color: #333;
    }

    .notification.info {
      background-color: #4285f4;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
      background-color: white;
      margin: 10% auto;
      padding: 20px;
      border-radius: 5px;
      width: 60%;
      max-width: 600px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #e0e0e0;
    }

    .modal-title {
      font-size: 18px;
      font-weight: bold;
      margin: 0;
    }

    .close {
      color: #aaa;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover {
      color: #333;
    }

    .modal-footer {
      padding-top: 15px;
      margin-top: 20px;
      border-top: 1px solid #e0e0e0;
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }

    .field-checkbox {
      margin-bottom: 10px;
    }

    .advanced-filters {
      background: #f9f9f9;
      border: 1px solid #e0e0e0;
      border-radius: 5px;
      padding: 15px;
      margin-bottom: 15px;
      display: none;
    }

    .advanced-filters.show {
      display: block;
    }

    .filter-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
      align-items: center;
    }

    .filter-row:last-child {
      margin-bottom: 0;
    }

    .toggle-advanced {
      background: none;
      border: 1px solid #4285f4;
      color: #4285f4;
      padding: 5px 10px;
      border-radius: 3px;
      cursor: pointer;
      font-size: 12px;
    }

    .toggle-advanced:hover {
      background: #4285f4;
      color: white;
    }

    .log-entry {
      padding: 15px;
      margin-bottom: 15px;
      border: 1px solid #e0e0e0;
      border-radius: 5px;
      background-color: #f9f9f9;
    }

    .log-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .log-timestamp {
      color: #5f6368;
      font-size: 14px;
    }

    .log-domain {
      color: #4285f4;
    }

    .log-results {
      margin-top: 10px;
    }

    .log-result {
      padding: 8px;
      margin-bottom: 8px;
      border-radius: 3px;
      font-size: 14px;
    }

    .log-result.success {
      background-color: rgba(52, 168, 83, 0.1);
      border-left: 3px solid #34a853;
    }

    .log-result.error {
      background-color: rgba(234, 67, 53, 0.1);
      border-left: 3px solid #ea4335;
    }

    .search-container {
      margin-bottom: 20px;
    }

    .search-input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      font-size: 14px;
      margin-bottom: 10px;
    }

    .filter-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      align-items: center;
      flex-wrap: wrap;
    }

    .filter-dropdown {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
      min-width: 120px;
    }

    .sort-info {
      font-size: 12px;
      color: #5f6368;
      margin-left: auto;
      padding: 5px 10px;
      background: #f5f5f5;
      border-radius: 15px;
    }

    .row-action-buttons {
      display: flex;
      gap: 5px;
    }

    .row-action-buttons button {
      padding: 5px 10px;
      font-size: 12px;
    }

    .field-selector {
      margin-bottom: 20px;
      max-height: 300px;
      overflow-y: auto;
      border: 1px solid #e0e0e0;
      border-radius: 5px;
      padding: 10px;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #4285f4;
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    .pro-tip {
      background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
      border: 1px solid #34a853;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 15px;
      font-size: 13px;
      color: #155724;
    }

    .pro-tip-header {
      font-weight: bold;
      margin-bottom: 5px;
      color: #0f4132;
    }

    .code-example {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 4px 8px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      color: #495057;
      margin: 0 2px;
    }

    /* Field action buttons in logs */
    .field-action-buttons {
      display: flex;
      gap: 5px;
      margin-top: 5px;
    }

    .field-action-buttons button {
      padding: 3px 8px;
      font-size: 11px;
      border-radius: 3px;
    }

    .delete-field-btn {
      background-color: #ea4335;
      color: white;
      border: none;
    }

    .delete-field-btn:hover {
      background-color: #d33426;
    }

    .retry-field-btn {
      background-color: #fbbc05;
      color: #333;
      border: none;
    }

    .retry-field-btn:hover {
      background-color: #f9ab00;
    }

    .field-info-expanded {
      background: #f0f0f0;
      padding: 8px;
      margin-top: 5px;
      border-radius: 3px;
      font-size: 11px;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: var(--bg-color, #f5f5f5);
      color: var(--text-color, #333);
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark-mode {
      --bg-color: #1a1a1a;
      --text-color: #e0e0e0;
      --card-bg: #2d2d2d;
      --border-color: #404040;
      --input-bg: #333;
      --button-bg: #4285f4;
    }

    body:not(.dark-mode) {
      --bg-color: #f5f5f5;
      --text-color: #333;
      --card-bg: #fff;
      --border-color: #ddd;
      --input-bg: #fff;
      --button-bg: #4285f4;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: var(--card-bg);
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      box-sizing: border-box;
      background: var(--input-bg);
      color: var(--text-color);
    }

    table {
      background: var(--card-bg);
      color: var(--text-color);
    }

    th, td {
      border-bottom: 1px solid var(--border-color);
    }
  </style>
</head>
<body>
  <h1>Enhanced Autofill Settings</h1>

  <div class="tab-container">
    <div class="tabs">
      <div class="tab active" data-tab="domains">Domain Settings</div>
      <div class="tab" data-tab="fields">Fields Management</div>
      <div class="tab" data-tab="surveys">Survey Tracking</div>
      <div class="tab" data-tab="logs">Activity Logs</div>
      <div class="tab" data-tab="advanced">Advanced Settings</div>
    </div>

    <!-- Domains Tab -->
    <div class="tab-content active" id="domains-tab">
      <div class="pro-tip">
        <div class="pro-tip-header">ðŸ’¡ Pro Tip: Use Specific Paths to Avoid Conflicts</div>
        Instead of using broad domains like <span class="code-example">docs.google.com</span>, use specific paths like <span class="code-example">docs.google.com/forms/</span> to avoid interfering with other services like Google Drive documents.
      </div>

      <div class="search-container">
        <input type="text" id="domain-search" class="search-input" placeholder="Search domains...">
        <button id="add-domain" class="btn-success">Add New Domain</button>
      </div>
      <table id="domains-table">
        <thead>
          <tr>
            <th>Domain</th>
            <th>Enabled</th>
            <th>Fill All Fields</th>
            <th>Delay (ms)</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="domains-list">
          <!-- Domains will be loaded here dynamically -->
        </tbody>
      </table>
    </div>

    <!-- Fields Management Tab -->
    <div class="tab-content" id="fields-tab">
      <div class="search-container">
        <input type="text" id="field-search" class="search-input" placeholder="Search fields by value, label, or selector...">

        <div class="filter-controls">
          <select id="filter-by-type" class="filter-dropdown">
            <option value="all">All Field Types</option>
            <option value="input">Input Fields</option>
            <option value="select">Select Dropdowns</option>
            <option value="textarea">Text Areas</option>
            <option value="checkbox">Checkboxes</option>
            <option value="radio">Radio Buttons</option>
          </select>

          <select id="filter-by-usage" class="filter-dropdown">
            <option value="all">All Usage Levels</option>
            <option value="used">Used Fields Only</option>
            <option value="unused">Unused Fields Only</option>
            <option value="high-usage">High Usage (5+ times)</option>
            <option value="low-usage">Low Usage (1-4 times)</option>
          </select>

          <button class="toggle-advanced" id="toggle-advanced-filters">Advanced</button>

          <label class="checkbox-filter">
            <input type="checkbox" id="filter-usage" checked> Show usage info
          </label>

          <div class="sort-info" id="sort-info">Click column headers to sort</div>
        </div>

        <div class="bulk-actions" style="margin-top: 10px; padding: 10px; background: #f0f0f0; border-radius: 5px; display: none;" id="bulk-actions">
          <label style="font-weight: bold; margin-right: 15px;">
            <input type="checkbox" id="select-all-fields" style="margin-right: 5px;"> Select All Visible Fields
          </label>
          <button id="bulk-delete-fields" class="btn-danger" style="margin-right: 10px;">Delete Selected Fields</button>
          <button id="bulk-restrict-fields" class="btn-secondary" style="margin-right: 10px;">Restrict Selected Fields</button>
          <button id="bulk-unrestrict-fields" class="btn-secondary" style="margin-right: 10px;">Unrestrict Selected Fields</button>
          <span id="selected-count" style="color: #5f6368; font-size: 12px;">0 fields selected</span>
        </div>

        <div class="advanced-filters" id="advanced-filters">
          <div class="filter-row">
            <label>Selector contains:</label>
            <input type="text" id="filter-selector-contains" placeholder="e.g. name, id, class">
          </div>
          <div class="filter-row">
            <label>Value contains:</label>
            <input type="text" id="filter-value-contains" placeholder="e.g. john, 30, yes">
          </div>
          <div class="filter-row">
            <label>Used by domain:</label>
            <input type="text" id="filter-domain-contains" placeholder="e.g. surveymonkey.com">
          </div>
          <div class="filter-row">
            <button id="clear-filters" class="btn-secondary">Clear All Filters</button>
            <button id="apply-filters" class="btn-success">Apply Filters</button>
          </div>
        </div>
      </div>

      <table id="fields-table">
        <thead>
          <tr>
            <th width="3%">
              <input type="checkbox" id="header-select-all" title="Select all visible fields">
            </th>
            <th width="15%" class="sortable-header" data-sort="label">
              Label/ID 
              <span class="sort-icon"></span>
            </th>
            <th width="19%" class="sortable-header" data-sort="selector">
              Selector 
              <span class="sort-icon"></span>
            </th>
            <th width="15%" class="sortable-header" data-sort="value">
              Value 
              <span class="sort-icon"></span>
            </th>
            <th width="12%" class="sortable-header" data-sort="usage">
              Usage Stats 
              <span class="sort-icon"></span>
            </th>
            <th width="15%" class="sortable-header" data-sort="domains">
              Used By Domains 
              <span class="sort-icon"></span>
            </th>
            <th width="15%">Actions</th>
          </tr>
        </thead>
        <tbody id="fields-list">
          <!-- Fields will be loaded here dynamically -->
        </tbody>
      </table>

      <!-- Usage Statistics Summary -->
      <div id="usage-summary" style="margin-top: 20px; padding: 15px; background-color: #f9f9f9; border-radius: 5px; border: 1px solid #e0e0e0;">
        <h3 style="margin-top: 0;">Usage Summary</h3>
        <div id="usage-stats-content">
          <!-- Usage statistics will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Survey Tracking Tab -->
    <div class="tab-content" id="surveys-tab">
      <h2>Survey Tracking Statistics</h2>

      <div id="survey-stats" class="survey-stats-container">
        <div class="stat-card">
          <div class="stat-number" id="total-surveys">0</div>
          <div class="stat-label">Surveys Completed</div>
        </div>

        <div class="stat-card">
          <div class="stat-number" id="duplicates-avoided">0</div>
          <div class="stat-label">Duplicates Avoided</div>
        </div>

        <div class="stat-card">
          <div class="stat-number" id="time-saved">0h</div>
          <div class="stat-label">Est. Time Saved</div>
        </div>
      </div>

      <h3>Ongoing Surveys <span id="ongoing-surveys-count" style="color: #ea4335; font-weight: bold;">(0)</span></h3>
      <div id="ongoing-surveys" class="recent-surveys-list" style="margin-bottom: 20px;">
        <!-- Ongoing surveys will be loaded here -->
      </div>

      <h3>Recent Survey Activity</h3>
      <div style="margin-bottom: 10px;">
        <button id="bulk-delete-completed" class="btn-danger" style="font-size: 12px; padding: 5px 10px;">Delete All Completed Surveys</button>
        <button id="bulk-delete-old-completed" class="btn-secondary" style="font-size: 12px; padding: 5px 10px; margin-left: 5px;">Delete Surveys Older Than 30 Days</button>
      </div>
      <div id="recent-surveys" class="recent-surveys-list">
        <!-- Recent surveys will be loaded here -->
      </div>

      <h3>Survey Detection Settings</h3>
      <div class="form-group">
        <label>
          <input type="checkbox" id="survey-tracking-enabled" checked>
          Enable survey tracking and duplicate detection
        </label>
        <p>Automatically detect and track survey completions to avoid duplicates</p>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="survey-notifications-enabled" checked>
          Show notifications for duplicate surveys
        </label>
        <p>Display alerts when you encounter a survey you've already completed</p>
      </div>

      <div class="form-group">
        <label for="survey-detection-sensitivity">Detection Sensitivity:</label>
        <select id="survey-detection-sensitivity">
          <option value="strict">Strict - Only obvious survey platforms</option>
          <option value="normal" selected>Normal - Common survey indicators</option>
          <option value="loose">Loose - Any form-like pages</option>
        </select>
        <p>How aggressively to detect survey pages</p>
      </div>

      <h3>Data Management</h3>
      <div class="form-group">
        <button id="export-survey-data" class="btn-secondary">Export Survey History</button>
        <button id="import-survey-data" class="btn-secondary">Import Survey History</button>
        <button id="clear-survey-history" class="btn-danger">Clear All Survey Data</button>
        <input type="file" id="import-survey-file" accept=".json" style="display: none;">
      </div>

      <div class="form-group">
        <p><strong>Import/Export Options:</strong></p>
        <ul style="font-size: 12px; color: #5f6368; margin: 5px 0;">
          <li><strong>Export Survey History:</strong> Creates a survey-only JSON file</li>
          <li><strong>Import Survey History:</strong> Imports survey data (merge or replace options)</li>
          <li><strong>Export All Data:</strong> Creates a complete backup including fields, domains, and surveys</li>
          <li><strong>Import Data:</strong> Imports any combination of fields, domains, and surveys</li>
        </ul>
      </div>

      <h3>Quick Actions</h3>
      <div class="form-group">
        <button id="mark-current-completed" class="btn-success">Mark Current Page as Completed</button>
        <p>Manually mark the current page as a completed survey</p>
      </div>
    </div>

    <!-- Logs Tab -->
    <div class="tab-content" id="logs-tab">
      <div class="search-container">
        <input type="text" id="log-search" class="search-input" placeholder="Search logs...">
        <button id="clear-logs" class="btn-danger">Clear All Logs</button>
      </div>

      <div id="logs-list">
        <!-- Logs will be loaded here dynamically -->
      </div>
    </div>

    <!-- Advanced Settings Tab -->
    <div class="tab-content" id="advanced-tab">
      <h2>Global Settings</h2>

      <div class="form-group">
        <label for="default-delay">Default Auto-Fill Delay (ms):</label>
        <input type="number" id="default-delay" min="0" max="10000" value="1000">
        <p>Time to wait before auto-filling fields on supported domains</p>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="notifications-enabled" checked>
          Enable Notifications
        </label>
        <p>Show notifications when auto-fill is performed</p>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="debug-mode">
          Debug Mode
        </label>
        <p>Enable advanced debugging features and logging</p>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="iframe-support-enabled">
          Enable iframe Support (Experimental)
        </label>
        <p>Allow the extension to work inside iframes. May impact performance on complex pages with many iframes.</p>
      </div>

          <div class="form-group">
            <label for="dark-mode-enabled">Dark mode:</label>
            <input type="checkbox" id="dark-mode-enabled">
            <p>Enable dark theme for extension interface.</p>
          </div>

      <h2>Data Management</h2>

      <div class="form-group">
        <button id="export-all-data" class="btn-secondary">Export All Data</button>
        <button id="import-all-data" class="btn-secondary">Import Data</button>
        <input type="file" id="import-file" accept=".json" style="display: none;">
      </div>

      <div class="form-group">
        <button id="reset-all-data" class="btn-danger">Reset All Data</button>
        <p>Warning: This will permanently delete all saved fields, domains, and settings</p>
      </div>
    </div>
  </div>

  <!-- Notification Element -->
  <div id="notification" class="notification"></div>

  <!-- Add/Edit Domain Modal -->
  <div id="domain-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modal-title">Add Domain</h2>
        <span class="close">X</span>
      </div>

      <div class="form-group">
        <label for="domain-input">Domain:</label>
        <input type="text" id="domain-input" placeholder="example.com or *.example.com">
        <p>Use * for wildcard matching (e.g., *.example.com)</p>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="domain-enabled" checked>
          Enable Auto-Fill for this domain
        </label>
      </div>

      <div class="form-group">
        <label for="fill-type">Fill Settings:</label>
        <select id="fill-type">
          <option value="all">Fill All Fields</option>
          <option value="specific">Fill Specific Fields</option>
        </select>
      </div>

      <div id="field-selector-container" style="display: none;">
        <h3>Select Fields to Fill:</h3>
        <div class="field-selector" id="fields-selector">
          <!-- Fields will be loaded here dynamically -->
        </div>
      </div>

      <div class="form-group">
        <label for="domain-delay">Delay (ms):</label>
        <input type="number" id="domain-delay" min="0" max="10000" value="1000">
        <p>Time to wait before auto-filling fields on this domain</p>
      </div>

      <div class="modal-footer">
        <button id="cancel-domain" class="btn-secondary">Cancel</button>
        <button id="save-domain" class="btn-success">Save</button>
      </div>
    </div>
  </div>
<script src="options.js"></script>
</body>
</html>